<!--
  RightPanel.vue - ìš°ì¸¡ íŒ¨ë„ ì»´í¬ë„ŒíŠ¸
  í€µ ì•¡ì„¸ìŠ¤ ë„êµ¬ë“¤ê³¼ í¸ì§‘ ê¸°ëŠ¥
  ìˆ˜ì§ íˆ´ë°” ìŠ¤íƒ€ì¼
-->
<template>
  <aside class="right-panel">
    <div class="panel-container">
      <!-- ìƒë‹¨ ë„êµ¬ ì„¹ì…˜ -->
      <div class="tools-section">
        <h3 class="section-title">ë„êµ¬</h3>

        <!-- í¸ì§‘ ë„êµ¬ë“¤ -->
        <div class="tool-buttons">
          <!-- ì—°í•„ ì•„ì´ì½˜ (í¸ì§‘) -->
          <button
            class="tool-btn"
            @click="handleToolClick('edit')"
            :class="{ active: activeTool === 'edit' }"
            title="í¸ì§‘"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 20H21"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M16.5 3.5A2.121 2.121 0 1 1 19.5 6.5L7 19L3 20L4 16L16.5 3.5Z"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- ë³µì‚¬ ì•„ì´ì½˜ -->
          <button
            class="tool-btn"
            @click="handleToolClick('copy')"
            :class="{ active: activeTool === 'copy' }"
            title="ë³µì‚¬"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="9"
                y="9"
                width="13"
                height="13"
                stroke="currentColor"
                stroke-width="1.2"
                rx="2"
                ry="2"
              />
              <path
                d="M5 15H4A2 2 0 0 1 2 13V4A2 2 0 0 1 4 2H13A2 2 0 0 1 15 4V5"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- ì—…ë¡œë“œ ì•„ì´ì½˜ -->
          <button
            class="tool-btn"
            @click="handleToolClick('upload')"
            :class="{ active: activeTool === 'upload' }"
            title="íŒŒì¼ ì—…ë¡œë“œ"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14 2H6A2 2 0 0 0 4 4V20A2 2 0 0 0 6 22H18A2 2 0 0 0 20 20V8L14 2Z"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <polyline
                points="14,2 14,8 20,8"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                x1="12"
                y1="18"
                x2="12"
                y2="12"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <polyline
                points="9,15 12,12 15,15"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- ì½”ë“œ ì•„ì´ì½˜ -->
          <button
            class="tool-btn"
            @click="handleToolClick('code')"
            :class="{ active: activeTool === 'code' }"
            title="ì½”ë“œ ì–´ì‹œìŠ¤íŠ¸"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M10 6L6 12L10 18"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M14 6L18 12L14 18"
                stroke="currentColor"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12 3L12 5M11 4L13 4"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <path
                d="M19 16L17 16M18 15L18 17"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <path
                d="M6 19L6 21M5 20L7 20"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <circle cx="12" cy="10" r="0.5" fill="currentColor" />
              <circle cx="12" cy="12" r="0.5" fill="currentColor" />
              <circle cx="12" cy="14" r="0.5" fill="currentColor" />
            </svg>
          </button>

          <!-- í…œí”Œë¦¿ ì•„ì´ì½˜ -->
          <button
            class="tool-btn"
            @click="handleToolClick('template')"
            :class="{ active: activeTool === 'template' }"
            title="í…œí”Œë¦¿"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="3"
                y="2"
                width="18"
                height="20"
                stroke="currentColor"
                stroke-width="1.2"
                fill="none"
                rx="2"
                stroke-linejoin="round"
              />
              <rect
                x="5"
                y="4"
                width="14"
                height="4"
                stroke="currentColor"
                stroke-width="0.8"
                fill="none"
                rx="1"
              />
              <rect
                x="5"
                y="10"
                width="6"
                height="4"
                stroke="currentColor"
                stroke-width="0.8"
                fill="none"
                rx="0.5"
              />
              <rect
                x="13"
                y="10"
                width="6"
                height="4"
                stroke="currentColor"
                stroke-width="0.8"
                fill="none"
                rx="0.5"
              />
              <rect
                x="5"
                y="16"
                width="14"
                height="3"
                stroke="currentColor"
                stroke-width="0.8"
                fill="none"
                rx="0.5"
              />
              <path
                d="M1 4L1 1L4 1"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M23 4L23 1L20 1"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M1 20L1 23L4 23"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M23 20L23 23L20 23"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <!-- AI ì—ì´ì „íŠ¸ ì•„ì´ì½˜ -->
          <button
            class="tool-btn"
            @click="handleToolClick('ai-agent')"
            :class="{ active: activeTool === 'ai-agent' }"
            title="AI ì—ì´ì „íŠ¸"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="7"
                y="6"
                width="10"
                height="8"
                stroke="currentColor"
                stroke-width="1.2"
                fill="none"
                rx="2"
                stroke-linejoin="round"
              />
              <line
                x1="12"
                y1="6"
                x2="12"
                y2="3"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <circle cx="12" cy="3" r="1" stroke="currentColor" stroke-width="0.8" fill="none" />
              <circle cx="10" cy="9" r="1" fill="currentColor" />
              <circle cx="14" cy="9" r="1" fill="currentColor" />
              <path
                d="M10 12L14 12"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <rect
                x="8"
                y="14"
                width="8"
                height="6"
                stroke="currentColor"
                stroke-width="1.2"
                fill="none"
                rx="1"
                stroke-linejoin="round"
              />
              <line
                x1="8"
                y1="16"
                x2="5"
                y2="16"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <line
                x1="16"
                y1="16"
                x2="19"
                y2="16"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <line
                x1="10"
                y1="20"
                x2="10"
                y2="22"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
              <line
                x1="14"
                y1="20"
                x2="14"
                y2="22"
                stroke="currentColor"
                stroke-width="0.8"
                stroke-linecap="round"
              />
            </svg>
          </button>
        </div>
      </div>

      <!-- ì¤‘ê°„ êµ¬ë¶„ì„  -->
      <div class="divider"></div>

      <!-- í€µ ì•¡ì…˜ ì„¹ì…˜ -->
      <div class="quick-actions-section">
        <h3 class="section-title">í€µ ì•¡ì…˜</h3>

        <div class="quick-actions">
          <!-- ìƒˆ ì±„íŒ… -->
          <button
            class="quick-action-btn"
            @click="handleQuickAction('new-chat')"
            title="ìƒˆ ì±„íŒ… ì‹œì‘"
          >
            <span class="action-icon">ğŸ’¬</span>
            <span class="action-text">ìƒˆ ì±„íŒ…</span>
          </button>

          <!-- íŒŒì¼ ë¶„ì„ -->
          <button
            class="quick-action-btn"
            @click="handleQuickAction('analyze-file')"
            title="íŒŒì¼ ë¶„ì„"
          >
            <span class="action-icon">ğŸ“Š</span>
            <span class="action-text">íŒŒì¼ ë¶„ì„</span>
          </button>

          <!-- ìŠ¤í¬ë¦°ìƒ· -->
          <button
            class="quick-action-btn"
            @click="handleQuickAction('screenshot')"
            title="ìŠ¤í¬ë¦°ìƒ·"
          >
            <span class="action-icon">ğŸ“·</span>
            <span class="action-text">ìŠ¤í¬ë¦°ìƒ·</span>
          </button>
        </div>
      </div>

      <!-- í•˜ë‹¨ ì„¤ì • -->
      <div class="settings-section">
        <!-- í…Œë§ˆ í† ê¸€ -->
        <button class="settings-btn" @click="toggleTheme" title="í…Œë§ˆ ë³€ê²½">
          <span v-if="isDarkMode">ğŸŒ™</span>
          <span v-else>â˜€ï¸</span>
        </button>

        <!-- ì„¤ì • -->
        <button class="settings-btn" @click="openSettings" title="ì„¤ì •">âš™ï¸</button>
      </div>
    </div>
  </aside>
</template>

<script setup>
import { ref } from 'vue'

// ë°˜ì‘í˜• ë°ì´í„°
const activeTool = ref('edit') // í˜„ì¬ í™œì„±í™”ëœ ë„êµ¬
const isDarkMode = ref(false) // ë‹¤í¬ëª¨ë“œ ìƒíƒœ

// ì´ë²¤íŠ¸ ì •ì˜
const emit = defineEmits(['tool-selected', 'quick-action', 'theme-changed', 'settings-opened'])

/**
 * ë„êµ¬ í´ë¦­ í•¸ë“¤ëŸ¬
 * @param {string} toolType - í´ë¦­ëœ ë„êµ¬ íƒ€ì…
 */
const handleToolClick = (toolType) => {
  activeTool.value = toolType
  console.log(`${toolType} ë„êµ¬ ì„ íƒë¨`)

  switch (toolType) {
    case 'edit':
      // í¸ì§‘ ëª¨ë“œ í™œì„±í™”
      break
    case 'copy':
      // ë³µì‚¬ ê¸°ëŠ¥ í™œì„±í™”
      break
    case 'upload':
      // íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥
      break
    case 'code':
      // ì½”ë“œ ì–´ì‹œìŠ¤íŠ¸ ê¸°ëŠ¥
      break
    case 'template':
      // í…œí”Œë¦¿ ê¸°ëŠ¥
      break
    case 'ai-agent':
      // AI ì—ì´ì „íŠ¸ ê¸°ëŠ¥
      break
  }

  emit('tool-selected', toolType)
}

/**
 * í€µ ì•¡ì…˜ í•¸ë“¤ëŸ¬
 * @param {string} actionType - ì•¡ì…˜ íƒ€ì…
 */
const handleQuickAction = (actionType) => {
  console.log(`${actionType} í€µ ì•¡ì…˜ ì‹¤í–‰`)

  switch (actionType) {
    case 'new-chat':
      // ìƒˆ ì±„íŒ… ì‹œì‘
      break
    case 'analyze-file':
      // íŒŒì¼ ë¶„ì„ ì‹œì‘
      break
    case 'screenshot':
      // ìŠ¤í¬ë¦°ìƒ· ê¸°ëŠ¥
      break
  }

  emit('quick-action', actionType)
}

/**
 * í…Œë§ˆ í† ê¸€ í•¨ìˆ˜
 */
const toggleTheme = () => {
  isDarkMode.value = !isDarkMode.value
  console.log(`í…Œë§ˆ ë³€ê²½: ${isDarkMode.value ? 'ë‹¤í¬' : 'ë¼ì´íŠ¸'}`)

  emit('theme-changed', isDarkMode.value)
}

/**
 * ì„¤ì • ì—´ê¸° í•¨ìˆ˜
 */
const openSettings = () => {
  console.log('ì„¤ì • í˜ì´ì§€ ì—´ê¸°')
  emit('settings-opened')
}
</script>

<style lang="scss" scoped>
/**
 * ìš°ì¸¡ íŒ¨ë„ ë©”ì¸ ì»¨í…Œì´ë„ˆ
 * ê³ ì • ë„ˆë¹„, ìˆ˜ì§ íˆ´ë°” ìŠ¤íƒ€ì¼
 */
.right-panel {
  width: 80px; /* ê³ ì • ë„ˆë¹„ */
  height: 100%;
  background: linear-gradient(180deg, #ffffff 0%, #f8f8f8 100%); /* í™”ì´íŠ¸ ê·¸ë¼ë°ì´ì…˜ */
  border-left: 1px solid #e0e0e0;
  display: flex;
  flex-direction: column;

  /* ê·¸ë¦¼ì íš¨ê³¼ */
  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.05);
}

.panel-container {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 20px 0;
}

/**
 * ì„¹ì…˜ ì œëª©
 */
.section-title {
  font-size: 10px;
  font-weight: 600;
  color: #666666;
  text-align: center;
  margin: 0 0 16px 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/**
 * ë„êµ¬ ì„¹ì…˜
 */
.tools-section {
  padding: 0 12px;
}

.tool-buttons {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/**
 * ë„êµ¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼
 */
.tool-btn {
  width: 56px;
  height: 56px;
  background: transparent;
  border: 2px solid transparent;
  border-radius: 12px;
  color: #666666;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;

  /* í˜¸ë²„ íš¨ê³¼ */
  &:hover {
    background: #f0f0f0;
    color: #333333;
    transform: scale(1.05);
  }

  /* í™œì„±í™” ìƒíƒœ */
  &.active {
    background: #e3f2fd; /* ë¼ì´íŠ¸ ë¸”ë£¨ */
    border-color: #4a90e2;
    color: #4a90e2;

    &::after {
      content: '';
      position: absolute;
      right: -14px;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 24px;
      background: #4a90e2;
      border-radius: 2px;
    }
  }
}

/**
 * êµ¬ë¶„ì„ 
 */
.divider {
  height: 1px;
  background: #e0e0e0;
  margin: 24px 12px;
}

/**
 * í€µ ì•¡ì…˜ ì„¹ì…˜
 */
.quick-actions-section {
  padding: 0 12px;
  margin-bottom: auto; /* í•˜ë‹¨ìœ¼ë¡œ ë°€ì–´ë‚´ê¸° */
}

.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/**
 * í€µ ì•¡ì…˜ ë²„íŠ¼
 */
.quick-action-btn {
  width: 56px;
  height: 48px;
  background: transparent;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;

  &:hover {
    background: #f5f5f5;
    border-color: #cccccc;
    transform: translateY(-2px);
  }
}

.action-icon {
  font-size: 16px;
  line-height: 1;
}

.action-text {
  font-size: 8px;
  color: #666666;
  font-weight: 500;
  text-align: center;
}

/**
 * í•˜ë‹¨ ì„¤ì • ì„¹ì…˜
 */
.settings-section {
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: auto; /* í•˜ë‹¨ ê³ ì • */
}

/**
 * ì„¤ì • ë²„íŠ¼
 */
.settings-btn {
  width: 56px;
  height: 40px;
  background: transparent;
  border: none;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background: #f0f0f0;
    transform: scale(1.1);
  }
}

/**
 * ë°˜ì‘í˜• ë””ìì¸
 */
@media (max-width: 1024px) {
  .right-panel {
    width: 72px;
  }

  .tool-btn,
  .quick-action-btn {
    width: 48px;
  }

  .tool-btn {
    height: 48px;
  }

  .quick-action-btn {
    height: 40px;
  }

  .settings-btn {
    width: 48px;
    height: 36px;
  }
}

@media (max-width: 768px) {
  .right-panel {
    width: 64px;
  }

  .panel-container {
    padding: 16px 0;
  }

  .tool-btn,
  .quick-action-btn,
  .settings-btn {
    width: 40px;
  }

  .tool-btn {
    height: 40px;

    svg {
      width: 16px;
      height: 16px;
    }
  }

  .quick-action-btn {
    height: 36px;
  }

  .action-icon {
    font-size: 14px;
  }

  .action-text {
    font-size: 7px;
  }

  .settings-btn {
    height: 32px;
    font-size: 16px;
  }
}

/* ëª¨ë°”ì¼ì—ì„œëŠ” ìš°ì¸¡ íŒ¨ë„ ìˆ¨ê¹€ */
@media (max-width: 480px) {
  .right-panel {
    display: none;
  }
}
</style>
