<!--
  MainPage.vue - ë©”ì¸ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
  1440px ê¸°ì¤€ ë°ìŠ¤í¬í†± ë ˆì´ì•„ì›ƒ
  ì¢Œì¸¡ ì‚¬ì´ë“œë°” + ë©”ì¸ ì½˜í…ì¸  + ìš°ì¸¡ íŒ¨ë„ êµ¬ì¡°
-->
<template>
  <div class="main-layout">
    <!-- ìƒë‹¨ í—¤ë” -->
    <!-- <AppHeader /> -->
    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <div class="content-wrapper">
      <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
      <AppSidebar @reset-main-content="handleResetMainContent" />
      <!-- ì¤‘ì•™ ë©”ì¸ ì½˜í…ì¸  -->
      <MainContent ref="mainContentRef" />
      <!-- ìš°ì¸¡ íŒ¨ë„ -->
      <!-- <RightPanel /> -->
    </div>
  </div>
</template>

<script setup>
import { onMounted } from 'vue'
import { ref } from 'vue'
import AppSidebar from './AppSidebar.vue'
import MainContent from './MainContent.vue'

// MainContent ì»´í¬ë„ŒíŠ¸ ì°¸ì¡°
const mainContentRef = ref(null)

// ğŸ¯ ì‚¬ì´ë“œë°”ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ ì²˜ë¦¬
const handleResetMainContent = (data) => {
  console.log('ì‚¬ì´ë“œë°”ì—ì„œ ë¦¬ì…‹ ìš”ì²­:', data)

  // MainContentì˜ ë©”ì†Œë“œ í˜¸ì¶œ
  if (mainContentRef.value) {
    mainContentRef.value.resetAllValues()
  }
}

// ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì´ˆê¸° ì„¤ì •
onMounted(() => {
  console.log('ë©”ì¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ')
})
</script>

<style lang="scss" scoped>
/**
 * ë©”ì¸ ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼
 * 1440px ê¸°ì¤€ ë°ìŠ¤í¬í†± ë ˆì´ì•„ì›ƒ
 */
.main-layout {
  display: flex;
  height: 100vh;
  width: 100%;
  background: var(--color-background);
  position: relative;
  overflow: hidden;
}

/**
 * ì½˜í…ì¸  ë˜í¼
 * í—¤ë” ì•„ë˜ ë©”ì¸ ì˜ì—­ ì „ì²´
 */
.content-wrapper {
  flex: 1;
  display: flex;
  width: 100%;
  // max-width: 1440px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
  margin: 0 auto; /* ì¤‘ì•™ ì •ë ¬ */

  /* ì¢Œì¸¡ë¶€í„° ì‚¬ì´ë“œë°” -> ë©”ì¸ -> ìš°ì¸¡ íŒ¨ë„ ìˆœì„œ */
  gap: 0; /* ì»´í¬ë„ŒíŠ¸ê°„ ê°„ê²© ì—†ìŒ */

  @media (max-width: 1024px) {
    max-width: 100%;
    // justify-content: flex-end; /* ì¶”ê°€ */
    align-items: stretch; /* ì¶”ê°€ */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

// .content-wrapper {
//   display: flex;
//   flex-direction: column;
//   flex: 1;
//   height: 100vh;
//   width: 100%;
//   max-width: 100%;
//   position: relative;
//   /* justify-content ì†ì„± ì œê±° ë˜ëŠ” flex-startë¡œ ë³€ê²½ */
//   justify-content: flex-start;
//   align-items: stretch; /* centerì—ì„œ stretchë¡œ ë³€ê²½ */
//   overflow: hidden;
// }

/* ê¸°ì¡´ ë¯¸ë””ì–´ì¿¼ë¦¬ë„ ìˆ˜ì • */
// @media (max-width: 1024px) {
//   .content-wrapper {
//     max-width: 100%;
//     justify-content: flex-end; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }
// }

// @media (max-width: 768px) {
//   .main-layout {
//     flex-direction: column;
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }

//   .content-wrapper {
//     flex-direction: column;
//     height: calc(100vh - 60px);
//     justify-content: flex-start; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }
// }

// @media (max-width: 480px) {
//   .main-layout {
//     height: 100dvh;
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }

//   .content-wrapper {
//     height: 100%;
//     justify-content: flex-start; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }
// }

// /* ğŸ“± ì„¸ë¡œ ê¸¸ì´ ì§§ì„ ë•Œ ëŒ€ì‘ */
// @media (max-height: 600px) {
//   .main-layout {
//     height: auto;
//     min-height: 100vh;
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }

//   .content-wrapper {
//     height: auto;
//     min-height: calc(100vh - 60px);
//     justify-content: flex-start; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }
// }

// @media (max-height: 500px) {
//   .main-layout {
//     height: 100vh;
//     overflow-y: scroll;
//     -webkit-overflow-scrolling: touch;
//   }

//   .content-wrapper {
//     height: auto;
//     flex: 1;
//     justify-content: flex-start; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }
// }

// /* ê°€ë¡œëª¨ë“œì—ì„œ ì•„ì£¼ ì§§ì„ ë•Œ */
// @media (max-height: 400px) and (orientation: landscape) {
//   .main-layout {
//     height: 100vh;
//     overflow-y: auto;
//     -webkit-overflow-scrolling: touch;
//   }

//   .content-wrapper {
//     height: auto;
//     justify-content: flex-start; /* ì¶”ê°€ */
//     align-items: stretch; /* ì¶”ê°€ */
//     overflow-y: visible;
//   }
// }
</style>
